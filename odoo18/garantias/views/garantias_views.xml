<odoo>
    <!-- Vista formulario para Garantías -->
    <record id="view_garantias_form" model="ir.ui.view">
        <field name="name">garantias.form</field>
        <field name="model">garantias</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Garantías">
                <sheet>
                    <group>
                        <field name="name" readonly="1"/>
                        <field name="fecha_registro" readonly="1"/>
                        <field name="company_id" readonly="1"/>
                    </group>
                    <group>
                        <field name="cliente_nombre"/>
                        <field name="nif"/>
                        <field name="movil"/>
                    </group>
                    <group>
                        <field name="calle"/>
                        <field name="numero"/>
                        <field name="ciudad"/>
                        <field name="cp"/>
                        <field name="country_id"/>
                    </group>
                    <group>
                        <field name="ubicacion" readonly="1"/>
                    </group>
                    <group>
                        <field name="barcode"/>
                    </group>
                    <group>
                        <field name="imagen_equipo" widget="image"/>
                    </group>
                    <group string="Ubicación en el mapa">
                        <div id="garantias_map" style="width:100%; height:400px;"></div>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Vista lista para Garantías -->
    <record id="view_garantias_list" model="ir.ui.view">
        <field name="name">garantias.list</field>
        <field name="model">garantias</field>
        <field name="type">list</field>
        <field name="arch" type="xml">
            <list string="Garantías">
                <field name="name"/>
                <field name="cliente_nombre"/>
                <field name="nif"/>
                <field name="movil"/>
                <field name="fecha_registro"/>
                <field name="ubicacion"/>
            </list>
        </field>
    </record>

    <!-- Acción para abrir la vista de mapa -->
    <record id="action_garantias_map" model="ir.actions.client">
        <field name="name">Mapa de Garantías</field>
        <field name="tag">garantias_map_view</field>
    </record>

    <!-- Menú para acceder a la vista del mapa -->
    <menuitem id="menu_garantias_map" 
              name="Mapa de Garantías"
              action="action_garantias_map"
              parent="base.menu_custom"
              sequence="20"/>
</odoo>